<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.5.dev">
<meta name="author" content="Desarrollo de Aplicaciones Híbridas">
<title>Tutorial básico de Angular+Firebase</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove comment around @import statement below when using as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
body{margin:0}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
body{-webkit-font-smoothing:antialiased}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.spread{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol,ul.no-bullet,ol.no-bullet{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.no-bullet{list-style:none}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
body{tab-size:4}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menu{color:rgba(0,0,0,.8)}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all th.tableblock,table.grid-all td.tableblock{border-width:0 1px 1px 0}
table.grid-all tfoot>tr>th.tableblock,table.grid-all tfoot>tr>td.tableblock{border-width:1px 1px 0 0}
table.grid-cols th.tableblock,table.grid-cols td.tableblock{border-width:0 1px 0 0}
table.grid-all *>tr>.tableblock:last-child,table.grid-cols *>tr>.tableblock:last-child{border-right-width:0}
table.grid-rows th.tableblock,table.grid-rows td.tableblock{border-width:0 0 1px 0}
table.grid-all tbody>tr:last-child>th.tableblock,table.grid-all tbody>tr:last-child>td.tableblock,table.grid-all thead:last-child>tr>th.tableblock,table.grid-rows tbody>tr:last-child>th.tableblock,table.grid-rows tbody>tr:last-child>td.tableblock,table.grid-rows thead:last-child>tr>th.tableblock{border-bottom-width:0}
table.grid-rows tfoot>tr>th.tableblock,table.grid-rows tfoot>tr>td.tableblock{border-width:1px 0 0 0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.unstyled,ol.unnumbered,ul.checklist,ul.none{list-style-type:none}
ul.unstyled,ol.unnumbered,ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1em;font-size:.85em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{width:1em;position:relative;top:1px}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:0 .75em;line-height:1}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;text-indent:-1.05em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
</head>
<body class="book toc2 toc-right">
<div id="header">
<h1>Tutorial básico de Angular+Firebase</h1>
<div class="details">
<span id="author" class="author">Desarrollo de Aplicaciones Híbridas</span><br>
<span id="revdate">Máster TAII - UAL</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Tabla de contenidos</div>
<ul class="sectlevel1">
<li><a href="#trueresumen">Resumen</a></li>
<li><a href="#trueintroducci-n">1. Introducción</a>
<ul class="sectlevel2">
<li><a href="#truecreaci-n-del-proyecto">1.1. Creación del proyecto</a></li>
<li><a href="#trueconfiguraci-n-inicial">1.2. Configuración inicial</a></li>
<li><a href="#truecrear-los-componentes-de-la-aplicaci-n">1.3. Crear los componentes de la aplicación</a></li>
<li><a href="#trueconfiguraci-n-de-las-rutas">1.4. Configuración de las rutas</a></li>
<li><a href="#truecreaci-n-de-una-barra-de-navegaci-n">1.5. Creación de una barra de navegación</a></li>
<li><a href="#trueel-archivo-code-app-component-html-code">1.6. El archivo <code>app.component.html</code></a></li>
<li><a href="#truep-gina-de-inicio">1.7. Página de inicio</a></li>
<li><a href="#truecreaci-n-del-proyecto-en-firebase">1.8. Creación del proyecto en Firebase</a></li>
<li><a href="#trueconfiguraci-n-de-angularfire2">1.9. Configuración de AngularFire2</a></li>
<li><a href="#truecreaci-n-de-un-servicio-para-firebase">1.10. Creación de un servicio para Firebase</a></li>
<li><a href="#trueobtener-el-listado-de-coches">1.11. Obtener el listado de coches</a></li>
<li><a href="#truelogin-y-logout">1.12. Login y Logout</a></li>
<li><a href="#truepersonalizaci-n-del-men-si-est-iniciada-la-sesi-n">1.13. Personalización del menú si está iniciada la sesión</a></li>
<li><a href="#truemostrar-un-mensaje-al-cerrar-la-sesi-n">1.14. Mostrar un mensaje al cerrar la sesión</a></li>
<li><a href="#truemostrar-detalles">1.15. Mostrar detalles</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="trueresumen"><a class="anchor" href="#trueresumen"></a>Resumen</h2>
<div class="sectionbody">
<div class="paragraph">
<p>En este tutorial estudiaremos las bases para el desarrollo de una aplicación Angular con Firebase con operaciones CRUD.</p>
</div>
<div class="ulist">
<div class="title">Objetivos</div>
<ul>
<li>
<p>Conocer la arquitectura de una aplicación Angular</p>
</li>
<li>
<p>Aprender a usar Angular CLI para la creación de elementos de una aplicación Angular</p>
</li>
<li>
<p>Aprender a crear componentes Angular</p>
</li>
<li>
<p>Utilizar formularios para edición de datos</p>
</li>
<li>
<p>Aprender a crear servicios Angular</p>
</li>
<li>
<p>Utilizar las directivas de Angular</p>
</li>
<li>
<p>Aprender a usar el enrutado</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="trueintroducci-n"><a class="anchor" href="#trueintroducci-n"></a>1. Introducción</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Vamos a crear una aplicación Angular para gestionar datos de coches almacenados en Firebase</p>
</div>
<div class="sect2">
<h3 id="truecreaci-n-del-proyecto"><a class="anchor" href="#truecreaci-n-del-proyecto"></a>1.1. Creación del proyecto</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>$ ng new angularFirebaseEn3ms
$ cd angularFirebaseEn3ms
$ ng serve</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="trueconfiguraci-n-inicial"><a class="anchor" href="#trueconfiguraci-n-inicial"></a>1.2. Configuración inicial</h3>
<div class="paragraph">
<p>Instalar la <a href="https://github.com/angular/angularfire2">librería AngularFire</a> y la <a href="https://www.npmjs.com/package/angular2-flash-messages">librería para mostrar mensajes</a></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>$ sudo npm install firebase angularfire2 angular2-flash-messages --save
$ ng serve</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="truecrear-los-componentes-de-la-aplicaci-n"><a class="anchor" href="#truecrear-los-componentes-de-la-aplicaci-n"></a>1.3. Crear los componentes de la aplicación</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Dentro de <code>src/app</code> podemos crear una carpeta <code>components</code> para organizar los componentes de la aplicación</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Componentes a crear:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Home</p>
</li>
<li>
<p>Navbar (Barra de navegación)</p>
</li>
<li>
<p>Cars (muestra el listado de coches)</p>
</li>
<li>
<p>Car (muestra un coche)</p>
</li>
<li>
<p>AddCar (Añade un coche)</p>
</li>
<li>
<p>EditCar (Modifica un coche)</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>ng g component components/home
ng g component components/navbar
ng g component components/cars
ng g component components/car
ng g component components/add-car
ng g component components/edit-car</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="trueconfiguraci-n-de-las-rutas"><a class="anchor" href="#trueconfiguraci-n-de-las-rutas"></a>1.4. Configuración de las rutas</h3>
<div class="exampleblock">
<div class="title">Example 1. Rutas definidas en el archivo <code>app.module.ts</code></div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>const appRoutes: Routes = [
  {path: '', component:HomeComponent},
  {path: 'cars', component:CarsComponent},
  {path: 'add-car', component:AddCarComponent}
]</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="truecreaci-n-de-una-barra-de-navegaci-n"><a class="anchor" href="#truecreaci-n-de-una-barra-de-navegaci-n"></a>1.5. Creación de una barra de navegación</h3>
<div class="paragraph">
<p>Utilizaremos <a href="https://bootswatch.com">Bootswatch</a> para los estilos. Actualizaremos el <code>index.html</code> para incluir la hoja de estilos.</p>
</div>
<div class="exampleblock">
<div class="title">Example 2. Actualización del archivo <code>index.html</code> para usar la hoja de estilos de Bootswatch</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>&lt;!doctype html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  ...
  &lt;link rel="stylesheet" href = 'https://bootswatch.com/4/cosmo/bootstrap.min.css'&gt; <i class="conum" data-value="1"></i><b>(1)</b>
  ...
&lt;/head&gt;
&lt;body&gt;
  &lt;app-root&gt;&lt;/app-root&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Hoja de estilos de Bootswatch</td>
</tr>
</table>
</div>
</div>
</div>
<div class="paragraph">
<p>A continuación obtendremos el código HTML para crear la barra de navegación. Para ello, desde la <a href="https://getbootstrap.com/docs/4.0/examples/">Web de ejemplos de Bootstrap</a> seleccionamos el de <strong>Carousel</strong> y mostramos su código fuente. Localizamos la barra de navegación (<code>&lt;nav&gt;</code>) dentro de un elemento <code>&lt;header&gt;</code> al principio del <code>&lt;body&gt;</code>. Realizaremos unos cambios y obtendremos el archivo siguiente.</p>
</div>
<div class="exampleblock">
<div class="title">Example 3. Hoja de estilos <code>navbar.component.html</code></div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>&lt;nav class="navbar navbar-expand-md navbar-dark bg-dark"&gt;
  &lt;a class="navbar-brand" routerLink=""&gt;Cars&lt;/a&gt; <i class="conum" data-value="1"></i><b>(1)</b>
  &lt;button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation"&gt;
    &lt;span class="navbar-toggler-icon"&gt;&lt;/span&gt;
  &lt;/button&gt;
  &lt;div class="collapse navbar-collapse" id="navbarCollapse"&gt;
    &lt;ul class="navbar-nav mr-auto navbar-left"&gt; <i class="conum" data-value="2"></i><b>(2)</b>
      &lt;li class="nav-item active"&gt;
        &lt;a class="nav-link" routerLink=""&gt;Home &lt;span class="sr-only"&gt;(current)&lt;/span&gt;&lt;/a&gt; <i class="conum" data-value="3"></i><b>(3)</b>
      &lt;/li&gt;
      &lt;li class="nav-item"&gt;
        &lt;a class="nav-link" routerLink="/cars"&gt;Cars&lt;/a&gt; <i class="conum" data-value="4"></i><b>(4)</b>
      &lt;/li&gt;
      &lt;li class="nav-item"&gt;
        &lt;a class="nav-link" routerLink="/add-car"&gt;Añadir coches&lt;/a&gt; <i class="conum" data-value="5"></i><b>(5)</b>
      &lt;/li&gt;
    &lt;/ul&gt;
    &lt;ul class="navbar-nav navbar-right"&gt; <i class="conum" data-value="6"></i><b>(6)</b>
      &lt;li class="nav-item active"&gt;
        &lt;a class="nav-link" href=""&gt;Login &lt;span class="sr-only"&gt;(current)&lt;/span&gt;&lt;/a&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
&lt;/nav&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Título de la aplicación. Muestra la página de inicio</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Barra de la izquierda</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Opción <code>Home</code>. Muestra la página de inicio</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Opción <code>Cars</code>. Muestra el listado de coches</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Opción <code>Añadir coches</code> para mostrar el componente de añadir coches</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Barra de la derecha</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="trueel-archivo-code-app-component-html-code"><a class="anchor" href="#trueel-archivo-code-app-component-html-code"></a>1.6. El archivo <code>app.component.html</code></h3>
<div class="exampleblock">
<div class="title">Example 4. El archivo <code>app.component.html</code></div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>&lt;app-navbar&gt;&lt;/app-navbar&gt; <i class="conum" data-value="1"></i><b>(1)</b>
&lt;div class="container"&gt;
  &lt;router-outlet&gt;&lt;/router-outlet&gt; <i class="conum" data-value="2"></i><b>(2)</b>
&lt;/div&gt;

&lt;/div&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Barra de navegación</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Página de la aplicación según la ruta elegida</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="truep-gina-de-inicio"><a class="anchor" href="#truep-gina-de-inicio"></a>1.7. Página de inicio</h3>
<div class="exampleblock">
<div class="title">Example 5. El archivo <code>home.component.html</code></div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>&lt;div class = "jumbotron text-center"&gt;
  &lt;div class = "container"&gt;
    &lt;h1&gt;Listado de coches&lt;/h1&gt;
    &lt;p&gt;Los coches más increibles&lt;/p&gt;
    &lt;a href =""&gt;&lt;img src="../assets/img/google.png"&gt;&lt;/a&gt; <i class="conum" data-value="1"></i><b>(1)</b>
  &lt;/div&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Botón de login con Google</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="truecreaci-n-del-proyecto-en-firebase"><a class="anchor" href="#truecreaci-n-del-proyecto-en-firebase"></a>1.8. Creación del proyecto en Firebase</h3>
<div class="paragraph">
<p>Crearemos un proyecto Firebase denominado <code>cars</code> que soporte la base de datos para este ejemplo. Tras crear el proyecto elegiremos la opción de <em>Añadir Firebase a nuestra aplicación web</em>. Esto nos proporcionará unos valores que más adelante usaremos para configurar el acceso a este proyecto desde nuestra aplicación.</p>
</div>
<div class="paragraph">
<p>Una vez creado el proyecto desplegaremos <strong>DEVELOP</strong> para habilitar el acceso a nuestro proyecto Firebase desde nuestra aplicación haremos lo siguiente:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>En el menú Database activamos nuestra base de datos como <em>Cloud Firestore</em>.</p>
</li>
<li>
<p>Configuraremos las reglas de seguridad en modo de prueba para permitir la lectura y escriturea</p>
</li>
<li>
<p>En el menú Authentication configuraremos el método de inicio de sesión habilitaremos Google como proveedor de inicio de sesión.</p>
</li>
<li>
<p>En el menú Database añadiremos una nueva colección denominada <code>cars</code>.</p>
</li>
<li>
<p>Añadiremos los siguientes datos de prueba.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>[
    {"marca": "Ford", "modelo": "Mustang V8 5.0", "fabricacion": "USA", "potencia": 464, "velocidadMaxima": 249},
    {"marca": "Mercedes", "modelo": "S 500", "fabricacion": "Alemania", "potencia": 388, "velocidadMaxima": 260},
    {"marca": "BMW", "modelo": "M3", "fabricacion": "Alemania", "potencia": 431, "velocidadMaxima": 260}
]</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="trueconfiguraci-n-de-angularfire2"><a class="anchor" href="#trueconfiguraci-n-de-angularfire2"></a>1.9. Configuración de AngularFire2</h3>
<div class="paragraph">
<p>Seguimos las indicaciones de la <a href="https://github.com/angular/angularfire2/blob/master/docs/install-and-setup.md">página de AngularFire2 en GitHub</a>.</p>
</div>
<div class="sect3">
<h4 id="trueconfiguraci-n-de-las-variables-de-entorno-con-la-configuraci-n-de-acceso-al-proyecto-firebase"><a class="anchor" href="#trueconfiguraci-n-de-las-variables-de-entorno-con-la-configuraci-n-de-acceso-al-proyecto-firebase"></a>1.9.1. Configuración de las variables de entorno con la configuración de acceso al proyecto Firebase</h4>
<div class="paragraph">
<p>Los valores de configuración de acceso al proyecto Firebase creado están disponible en Project overview &#8594; Añade Firebase a tu aplicación Web. Estos valores los introduciremos en el archivo <code>src/enviroments/enviroments.ts</code></p>
</div>
<div class="exampleblock">
<div class="title">Example 6. El archivo <code>src/enviroments/enviroments.ts</code></div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>export const environment = {
  production: false,
  firebase: {
    apiKey: "AIzaSyD9L-0hoNazxIy2qwP5okIXPQlGY97yBWI",
    authDomain: "cars-71f59.firebaseapp.com",
    databaseURL: "https://cars-71f59.firebaseio.com",
    projectId: "cars-71f59",
    storageBucket: "cars-71f59.appspot.com",
    messagingSenderId: "663497383056"
  }
};</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="truemodificaci-n-del-archivo-code-app-module-ts-code"><a class="anchor" href="#truemodificaci-n-del-archivo-code-app-module-ts-code"></a>1.9.2. Modificación del archivo <code>app.module.ts</code></h4>
<div class="exampleblock">
<div class="title">Example 7. Modificaciones del archivo <code>app.module.ts</code> para importar AngularFire2 y activar los módulos de autenticación</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>...
import { AngularFireModule } from 'angularfire2'; <i class="conum" data-value="1"></i><b>(1)</b>
import { environment } from '../environments/environment';
import { AngularFireAuthModule } from 'angularfire2/auth';
....

@NgModule({
  ...
  imports: [ <i class="conum" data-value="2"></i><b>(2)</b>
    ...
    AngularFireModule.initializeApp(environment.firebase),
    AngularFireAuthModule
  ],
  ...
})
...</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Importación de módulo básico de Firebase, parámetros de acceso a la base de datos <code>Cars</code> en Firebase y módulo de autenticación</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Añadir módulos básicos y de autenticación de Firebase al array <code>imports</code></td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="truecreaci-n-de-un-servicio-para-firebase"><a class="anchor" href="#truecreaci-n-de-un-servicio-para-firebase"></a>1.10. Creación de un servicio para Firebase</h3>
<div class="paragraph">
<p>Comenzaremos creando un servicio para Firebase al que denominaremos <code>firebase</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Dentro de <code>src/app</code> podemos crear una carpeta <code>services</code> para organizar los servicios de la aplicación</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>ng g service services/firebase</code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>A diferencia de los componentes, al crear el servicio con Angular/CLI no se modifica el archivo <code>app.module.ts</code> para incluir el nuevo servicio, por lo que hay que modificarlo manualmente.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="exampleblock">
<div class="title">Example 8. Modificaciones al archivo <code>app.module.ts</code> para importar nuestro servicio Firebase</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>...
import { FirebaseService } from './services/firebase.service'; <i class="conum" data-value="1"></i><b>(1)</b>
import { AngularFirestore } from 'angularfire2/firestore';
import { HttpModule } from '@angular/http'; <i class="conum" data-value="2"></i><b>(2)</b>
...
@NgModule({
  ...
  imports: [
    ...
    HttpModule <i class="conum" data-value="3"></i><b>(3)</b>
  ],
  providers: [FirebaseService, AngularFirestore], <i class="conum" data-value="4"></i><b>(4)</b>
  ...
})</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Importar nuestro servicio de Firebase y el módulo de <code>AngularFirestore</code></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Importar HttpModule</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Añadir <code>HttpModule</code> al array <code>imports</code></td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Añadir nuestro servicio y <code>AngularFireStore</code> al array <code>providers</code></td>
</tr>
</table>
</div>
</div>
</div>
<div class="paragraph">
<p>A continuación configuramos el servicio para poder trabajar con Firebase y poder devolver observables</p>
</div>
<div class="exampleblock">
<div class="title">Example 9. El archivo del servicio <code>firebase.service.ts</code></div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>import { AngularFirestore, AngularFirestoreDocument, AngularFirestoreCollection } from 'angularfire2/firestore';
 <i class="conum" data-value="1"></i><b>(1)</b>
import { Observable } from 'rxjs/Observable'; <i class="conum" data-value="2"></i><b>(2)</b>

@Injectable()
export class FirebaseService {
  car: Observable&lt;any&gt<i class="conum" data-value="3"></i><b>(3)</b>
  cars: Observable&lt;any[]&gt;;

  carsCollection: AngularFirestoreCollection&lt;Car&gt<i class="conum" data-value="4"></i><b>(4)</b>
  carDoc: AngularFirestoreDocument&lt;Car&gt;

  constructor(private db: AngularFirestore) { } <i class="conum" data-value="5"></i><b>(5)</b>

  getCars() { <i class="conum" data-value="6"></i><b>(6)</b>
    this.carsCollection = this.db.collection('cars');
    this.cars = this.carsCollection.snapshotChanges().map(changes =&gt; {
      return changes.map(a =&gt; {
        const data = a.payload.doc.data() as Car;
        data.id = a.payload.doc.id;
        return data;
      });
    });
    return this.cars;
  }

  getCar(id) { <i class="conum" data-value="7"></i><b>(7)</b>
    this.carDoc = this.db.doc&lt;Car&gt;('cars/'+id);
    this.car = this.carDoc.valueChanges();
    return this.car;
  }
}

interface Car { <i class="conum" data-value="8"></i><b>(8)</b>
  id: string;
  marca?: string;
  modelo?: string;
  fabricacion?: string;
  potencia?: number;
  velocidadMaxima?: number;
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Importación del módulo de Firebase y de los módulos para colección y documento</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Importación para poder devolver observables</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Variables de instancia <code>car</code> y <code>cars</code> como observables para ser devueltas por los métodos y poder accecer posteriomente a sus valores</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Variables de instancia que respresetan a una colección y a un documento Firebase</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Inyección del componente de Firebase para poder acceder a su funcionalidad</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Método para obtener un array de coches de la colección de Firebase. Usamos el método <code>snapshotChanges()</code> para poder acceder al <code>id</code> de los documentos y así poder manipularlos posteriomente de forma individual.</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>Método para obtener el documento de un coche a partir de su <code>id</code></td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td>Interfaz de un objeto coche. El <code>id</code> es el único campo obligatorio.</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="trueobtener-el-listado-de-coches"><a class="anchor" href="#trueobtener-el-listado-de-coches"></a>1.11. Obtener el listado de coches</h3>
<div class="exampleblock">
<div class="title">Example 10. El archivo <code>cars.component.ts</code></div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>...
import { FirebaseService } from '../../services/firebase.service'; <i class="conum" data-value="1"></i><b>(1)</b>
...
export class CarsComponent implements OnInit {
  cars: any; <i class="conum" data-value="2"></i><b>(2)</b>

  constructor(private firebaseService:FirebaseService) { } <i class="conum" data-value="3"></i><b>(3)</b>

  ngOnInit() {
    this.firebaseService.getCars().subscribe(cars =&gt; { <i class="conum" data-value="4"></i><b>(4)</b>
      this.cars = cars;
    })
  }

}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Importar nuestro servicio Firebase</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Variable instancia para el array de coches</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Inyección de nuestro servicio para poder acceder a su funcionlidad</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Obtener la lista de coches</td>
</tr>
</table>
</div>
</div>
</div>
<div class="exampleblock">
<div class="title">Example 11. El archivo <code>cars.component.html</code></div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>&lt;div class="container"&gt;
  &lt;div class = "row"&gt;
    &lt;ul class = "list-group"&gt; <i class="conum" data-value="1"></i><b>(1)</b>
      &lt;li class = "list-group-item" *ngFor="let car of cars"&gt; <i class="conum" data-value="2"></i><b>(2)</b>
        {{car.marca}} {{car.modelo}} <i class="conum" data-value="3"></i><b>(3)</b>
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Mostrar los elementos en una lista</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Mediante un bucle crear un elemento <code>&lt;li&gt;</code> para cada elemento de la lista devuelta</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Mostrar la marca y el modelo del elemento devuelto</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="truelogin-y-logout"><a class="anchor" href="#truelogin-y-logout"></a>1.12. Login y Logout</h3>
<div class="paragraph">
<p>De acuerdo con la <a href="https://github.com/angular/angularfire2/blob/master/docs/auth/getting-started.md">documentación de AngularFire2</a> para el inicio de sesión con Google introduciremos estos cambios en el componente TypeScript de la barra de navegación, que es nuestra encargada de hacer el login/logout.</p>
</div>
<div class="exampleblock">
<div class="title">Example 12. El archivo <code>navbar.component.ts</code></div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>...
import { AngularFireAuth } from 'angularfire2/auth'; <i class="conum" data-value="1"></i><b>(1)</b>
import * as firebase from 'firebase/app';
...
export class NavbarComponent implements OnInit {

  constructor(public afAuth: AngularFireAuth) { <i class="conum" data-value="2"></i><b>(2)</b>
  }

  login() { <i class="conum" data-value="3"></i><b>(3)</b>
    this.afAuth.auth.signInWithPopup(new firebase.auth.GoogleAuthProvider());
  }

  logout() { <i class="conum" data-value="4"></i><b>(4)</b>
    this.afAuth.auth.signOut();
  }
  ...
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Importación de módiulos necesarios</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Inyección del módulo de autenticación para acceder a su funcionalidad</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Método de login a través del objeto AngularFirebase</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Método de logout a través del objeto AngularFirebase</td>
</tr>
</table>
</div>
</div>
</div>
<div class="paragraph">
<p>También añadiremos el comportamiento de Login al botón de la página <code>Home</code>.</p>
</div>
<div class="exampleblock">
<div class="title">Example 13. El archivo <code>home.component.ts</code></div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>...
import { AngularFireAuth } from 'angularfire2/auth'; <i class="conum" data-value="1"></i><b>(1)</b>
import * as firebase from 'firebase/app';
...
export class HomeComponent implements OnInit {

  constructor(public afAuth: AngularFireAuth) { } <i class="conum" data-value="2"></i><b>(2)</b>
  ...
  login() { <i class="conum" data-value="3"></i><b>(3)</b>
    this.afAuth.auth.signInWithPopup(new firebase.auth.GoogleAuthProvider())
  }
  ...
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Importar los módulos necesarios de AngulaFire para la autenticación</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Inyección del módulo de autenticación de AngularFire para poder hacer uso de su funcionalidad</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Función de login de acuerdo a la documentación de AngularFire</td>
</tr>
</table>
</div>
</div>
</div>
<div class="exampleblock">
<div class="title">Example 14. El archivo <code>home.component.html</code></div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>&lt;div class = "jumbotron text-center"&gt;
  &lt;div class = "container"&gt;
    &lt;h1&gt;Listado de coches&lt;/h1&gt;
    &lt;p&gt;Los coches más increibles&lt;/p&gt;
    &lt;a (click)="login()"&gt;&lt;img src="../assets/img/google.png"&gt;&lt;/a&gt; <i class="conum" data-value="1"></i><b>(1)</b>
  &lt;/div&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Llamada a la función <code>login()</code> al pulsar el botón. Además, se debe quitar el atributo <code>href</code> para evitar pantallazo</td>
</tr>
</table>
</div>
</div>
</div>
<div class="exampleblock">
<div class="title">Example 15. Modificar la barra de la derecha en el archivo <code>navbar.component.html</code> para agregar el botón de logout y usar las funciones definidas para el manejo de sesión</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>...
      &lt;ul class="navbar-nav navbar-right"&gt;
        &lt;li class="nav-item active"&gt;
          &lt;a class="nav-link" (click)="login()"&gt;Login &lt;span class="sr-only"&gt;(current)&lt;/span&gt;&lt;/a&gt;
        &lt;/li&gt;
        &lt;li class="nav-item "&gt;
          &lt;a class="nav-link" (click)="logout()"&gt;Logout &lt;span class="sr-only"&gt;(current)&lt;/span&gt;&lt;/a&gt;
        &lt;/li&gt;
      &lt;/ul&gt;
...</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="truepersonalizaci-n-del-men-si-est-iniciada-la-sesi-n"><a class="anchor" href="#truepersonalizaci-n-del-men-si-est-iniciada-la-sesi-n"></a>1.13. Personalización del menú si está iniciada la sesión</h3>
<div class="paragraph">
<p>Aquí haremos que el la opción de login o logout esté disponible según si no está o está iniciada la sesión, respectivamente. Igualmente, las opciones de Coches y Añadir coches sólo aparecerán disponibles en el menú de la izquierda si está iniciada la sesión.</p>
</div>
<div class="paragraph">
<p>Para ello aplicaremos la directiva <code><strong>ngIf</strong></code> sobre cada elemento que queramos mostrar de forma condicional de esta forma:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>`*ngIf="(afAuth.authState | async)"`</pre>
</div>
</div>
<div class="paragraph">
<p>En caso del logout lo haremos negado.</p>
</div>
<div class="exampleblock">
<div class="title">Example 16. Archivo de barra de navegación <code>navbar.component.html</code></div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>&lt;nav class="navbar navbar-expand-md navbar-dark bg-dark"&gt;
  &lt;a class="navbar-brand" href="#"&gt;Coches&lt;/a&gt;
  &lt;button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation"&gt;
    &lt;span class="navbar-toggler-icon"&gt;&lt;/span&gt;
  &lt;/button&gt;
  &lt;div class="collapse navbar-collapse" id="navbarCollapse"&gt;
    &lt;ul class="navbar-nav mr-auto navbar-left"&gt;
      &lt;li class="nav-item active"&gt;
        &lt;a class="nav-link" routerLink=""&gt;Home &lt;span class="sr-only"&gt;(current)&lt;/span&gt;&lt;/a&gt;
      &lt;/li&gt;
      &lt;li *ngIf="(afAuth.authState | async)" class="nav-item"&gt; <i class="conum" data-value="1"></i><b>(1)</b>
        &lt;a class="nav-link" routerLink="/cars"&gt;Coches&lt;/a&gt;
      &lt;/li&gt;
      &lt;li *ngIf="(afAuth.authState | async)" class="nav-item"&gt; <i class="conum" data-value="2"></i><b>(2)</b>
        &lt;a class="nav-link" routerLink="/add-car"&gt;Añadir coches&lt;/a&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
    &lt;ul class="navbar-nav navbar-right"&gt;
      &lt;li *ngIf="!(afAuth.authState | async)" class="nav-item"&gt; <i class="conum" data-value="3"></i><b>(3)</b>
        &lt;a class="nav-link" (click)="login()"&gt;Login &lt;span class="sr-only"&gt;(current)&lt;/span&gt;&lt;/a&gt;
      &lt;/li&gt;
      &lt;li *ngIf="(afAuth.authState | async)" class="nav-item"&gt; <i class="conum" data-value="4"></i><b>(4)</b>
        &lt;a class="nav-link" (click)="logout()"&gt;Logout &lt;span class="sr-only"&gt;(current)&lt;/span&gt;&lt;/a&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
&lt;/nav&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Mostrar si la sesión está iniciada</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Mostrar si la sesión está iniciada</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Mostrar si la sesión <strong>no</strong> está iniciada</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Mostrar si la sesión está iniciada</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="truemostrar-un-mensaje-al-cerrar-la-sesi-n"><a class="anchor" href="#truemostrar-un-mensaje-al-cerrar-la-sesi-n"></a>1.14. Mostrar un mensaje al cerrar la sesión</h3>
<div class="paragraph">
<p>Usaremos el módulo <code>FlashMessagesModule</code></p>
</div>
<div class="exampleblock">
<div class="title">Example 17. Modificar el archivo <code>app.module.ts</code></div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>...
import { FlashMessagesModule, FlashMessagesService } from 'angular2-flash-messages'; <i class="conum" data-value="1"></i><b>(1)</b>
...

@NgModule({
  ...
  imports: [
    ...
    FlashMessagesModule <i class="conum" data-value="2"></i><b>(2)</b>
  ],
  providers: [FirebaseService, AngularFirestore, FlashMessagesService], <i class="conum" data-value="3"></i><b>(3)</b>
  ...
})
...</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Importar <code>FlashMessagesModule</code> y <code>FlashMessagesService</code></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Añadir <code>FlashMessagesModule</code> al array <code>imports</code></td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Añadir <code>FlashMessagesService</code> al array <code>providers</code></td>
</tr>
</table>
</div>
</div>
</div>
<div class="exampleblock">
<div class="title">Example 18. Modificar <code>navbar.component.ts</code></div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>....
import { FlashMessagesService } from 'angular2-flash-messages'; <i class="conum" data-value="1"></i><b>(1)</b>
....
export class NavbarComponent implements OnInit {
  constructor(public afAuth: AngularFireAuth,
              public flashMessagesService: FlashMessagesService { } <i class="conum" data-value="2"></i><b>(2)</b>
  ...
  logout() {
    this.afAuth.auth.signOut();
    this.flashMessagesService.show("Sesión cerrada", {cssClass: 'alert-success', timeout: 3000}); <i class="conum" data-value="3"></i><b>(3)</b>
  }
  ...
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Importar <code>FlashMessagesService</code></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Inyetar <code>FlashMessagesService</code> al constructor para acceder a su funcionalidad</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Mostrar un mensaje durante 3000 ms al hacer el logout</td>
</tr>
</table>
</div>
</div>
</div>
<div class="exampleblock">
<div class="title">Example 19. Añadir el tag del mensaje a <code>app.component.html</code></div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>&lt;app-navbar&gt;&lt;/app-navbar&gt;
&lt;div class="container"&gt;
  &lt;flash-messages&gt;&lt;/flash-messages&gt; <i class="conum" data-value="1"></i><b>(1)</b>
  &lt;router-outlet&gt;&lt;/router-outlet&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Selector del mensaje</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="truemostrar-detalles"><a class="anchor" href="#truemostrar-detalles"></a>1.15. Mostrar detalles</h3>
<div class="paragraph">
<p>Queremos convertir el listado de coches en un listado de hipervínculos de tal forma que al seleccionar un coche, se muestren los detalles de ese coche. Podemos obtener los detalles del coche a través de su <code>id</code>.</p>
</div>
<div class="exampleblock">
<div class="title">Example 20. Modificar el archivo <code>app.module.ts</code> para añadir la ruta de mostrar información de un coche</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>const appRoutes: Routes = [
  {path: '', component:HomeComponent},
  {path: 'cars', component:CarsComponent},
  {path: 'add-car', component:AddCarComponent},
  {path: 'car/:id', component:CarComponent} <i class="conum" data-value="1"></i><b>(1)</b>
];</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Añadir la ruta de mostrar detalle al array de rutas. La ruta tiene el <code>id</code> del coche como parámetro</td>
</tr>
</table>
</div>
</div>
</div>
<div class="exampleblock">
<div class="title">Example 21. Modificar el archivo <code>cars.component.html</code> para convertir el listado en un listado de hipervínculos</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>&lt;div class="container"&gt;
  &lt;div class = "row"&gt;
    &lt;ul class = "list-group"&gt;
      &lt;li class = "list-group-item" *ngFor="let car of cars"&gt;
        &lt;a [routerLink]="['/car/'+car.id]"&gt;{{car.marca}} {{car.modelo}}&lt;/a&gt; <i class="conum" data-value="1"></i><b>(1)</b>
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>El hipervínculo dirige a la ruta <code>/car/:id</code> pasándole como parámetro el campo <code>id</code> del coche</td>
</tr>
</table>
</div>
</div>
</div>
<div class="exampleblock">
<div class="title">Example 22. Modificar el archivo <code>car.component.html</code></div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>...
import { FirebaseService } from '../../services/firebase.service'; <i class="conum" data-value="1"></i><b>(1)</b>
import { ActivatedRoute } from '@angular/router'; <i class="conum" data-value="2"></i><b>(2)</b>
...
export class CarComponent implements OnInit {
  id: any; <i class="conum" data-value="3"></i><b>(3)</b>
  car: any;

  constructor(private firebaseService:FirebaseService,
    private route:ActivatedRoute) { } <i class="conum" data-value="4"></i><b>(4)</b>

  ngOnInit() {
    this.id = this.route.snapshot.params['id']; <i class="conum" data-value="5"></i><b>(5)</b>

    this.firebaseService.getCar(this.id).subscribe(car =&gt; {
      this.car = car <i class="conum" data-value="6"></i><b>(6)</b>
    })
  }

}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Importar el servicio que hemos definido para recuperar coches de Firebase</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Importar el paquete de enrutado para obtener el parámetro <code>id</code> pasado por la URL</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Variables de instancia para manipular el <code>id</code> y el coche</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Inyección de dependencias para acceder al servicio Firebase y los detalles de la ruta seleccionada (necesitamos acceder al valor del parámetro <code>id</code>)</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Recuperar el valor del parámetro <code>id</code> pasado por la URL</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Recuperar los valores del observable que devuelve el método <code>getCar()</code> definido en el servicio</td>
</tr>
</table>
</div>
</div>
</div>
<div class="exampleblock">
<div class="title">Example 23. Modificar el contenido de la plantilla <code>car.component.html</code></div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>&lt;div class = "container"&gt;
  &lt;div class = "row"&gt;
    &lt;a [routerLink]="['/cars']"&gt;Atrás&lt;/a&gt; <i class="conum" data-value="1"></i><b>(1)</b>
  &lt;/div&gt;
  &lt;div *ngIf="car" class="row"&gt; <i class="conum" data-value="2"></i><b>(2)</b>
    &lt;div class = "group-list"&gt;
      &lt;div class = "group-list-item"&gt; <i class="conum" data-value="3"></i><b>(3)</b>
        &lt;h1&gt;{{car.marca}} {{car.modelo}}&lt;/h1&gt;
        &lt;h3&gt;Potencia: {{car.potencia}} CV&lt;/h3&gt;
        &lt;h3&gt;Velocidad máxima: {{car.velocidadMaxima}}&lt;/h3&gt;
        &lt;p&gt;País de origen: {{car.fabricacion}}&lt;/p&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Enlace al listado de coches para permitir la vuelta atrás</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td><code>*ngIf</code> evita la aparición de mensajes en la consola mientrras se recuperan los datos del observable</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Lista de valores de los campos del coche recuperado</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2018-03-28 05:57:31 CEST
</div>
</div>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/styles/github.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/highlight.min.js"></script>
<script>hljs.initHighlighting()</script>
</body>
</html>